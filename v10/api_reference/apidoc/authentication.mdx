# Authentication API


## Overview

The **UTMStack Authentication API** issues **JWT tokens** to clients who provide valid credentials. Clients must authenticate using this endpoint before calling any protected resource in the UTMStack platform.

<Note>
This endpoint does **not** require authentication. It returns a **JWT access token** that must be used for subsequent requests.
</Note>


## Parameters

### Request Body

<ParamField body="username" type="string" required>
  User login name or email address
</ParamField>

<ParamField body="password" type="string" required>
  User password
</ParamField>

<ParamField body="rememberMe" type="boolean" default="false">
  Optional. Keeps the session active for a longer period
</ParamField>

### JSON Schema (Request)

```json
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "properties": {
    "username": { 
      "type": "string", 
      "description": "User login name" 
    },
    "password": { 
      "type": "string", 
      "description": "User password" 
    },
    "rememberMe": { 
      "type": "boolean", 
      "description": "Keep session alive" 
    }
  },
  "required": ["username", "password"]
}
```


## Request & Response Examples

<RequestExample>

```bash Request
curl -X POST https://utmstack.example.com/api/authenticate \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "MySecurePassword123",
    "rememberMe": true
  }'
```

</RequestExample>

<ResponseExample>

```json Response
{
  "id_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJST0xFX0FETUlOIiwiZXhwIjoxNjM0NTQ3MjAwfQ.signature",
  "authenticated": true
}
```

</ResponseExample>

### Additional Code Examples

<CodeGroup>

```javascript Node.js
import axios from "axios";

const response = await axios.post("https://utmstack.example.com/api/authenticate", {
  username: "admin",
  password: "MySecurePassword123",
  rememberMe: true
});

console.log("Token:", response.data.id_token);
```

```python Python
import requests

url = "https://utmstack.example.com/api/authenticate"
payload = {
    "username": "admin",
    "password": "MySecurePassword123",
    "rememberMe": True
}

response = requests.post(url, json=payload)
token = response.json()["id_token"]
print(f"Token: {token}")
```

</CodeGroup>


## Error Handling

<AccordionGroup>
  <Accordion title="401 Unauthorized">
    **Description:** Invalid credentials  
    **Resolution:** Verify username/password and try again.
  </Accordion>

  <Accordion title="403 Forbidden">
    **Description:** Login temporarily blocked due to multiple failed attempts  
    **Resolution:** Wait for cooldown period or contact admin.
  </Accordion>

  <Accordion title="500 Internal Server Error">
    **Description:** Unexpected backend error  
    **Resolution:** Check logs or contact UTMStack support.
  </Accordion>
</AccordionGroup>


## Using the Token

After successful authentication, include the JWT token in the Authorization header for subsequent API requests:

```bash
Authorization: Bearer <jwt_token>
```

<Tip>
Test your authentication by making a request to `/api/elasticsearch/search` with your Bearer token to verify it's working correctly.
</Tip>

